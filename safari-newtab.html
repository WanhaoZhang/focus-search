<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus Search - Safari</title>
    <link rel="stylesheet" href="safari-newtab.css">
</head>
<body>
    <div class="main-container">
        <!-- 顶部Logo区域 -->
        <div class="logo-section">
            <h1>Focus Search</h1>
        </div>
        
        <!-- 中央搜索区域 -->
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="搜索任何内容，默认使用浏览器搜索引擎..." autocomplete="off" />
                <button id="searchBtn" class="search-button">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                        <path d="M21 21L16.5 16.5M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            
            <!-- 搜索提示框 -->
            <div class="search-hint" id="searchHint">
                <div class="hint-content">
                    <span class="hint-icon">🌐</span>
                    <span class="hint-text">当前使用默认搜索引擎，如需搜索特定网站内容，请选择下方平台</span>
                </div>
            </div>
            
            <!-- 搜索网站选择 -->
            <div class="site-grid">
                <button class="site-card" data-site="zhihu">
                    <div class="site-icon zhihu-icon">知</div>
                    <span class="site-name">知乎</span>
                    <button class="delete-site-btn" data-site="zhihu">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </button>
                <button class="site-card" data-site="xiaohongshu">
                    <div class="site-icon xiaohongshu-icon">红</div>
                    <span class="site-name">小红书</span>
                    <button class="delete-site-btn" data-site="xiaohongshu">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </button>
                <button class="site-card" data-site="douyin">
                    <div class="site-icon douyin-icon">抖</div>
                    <span class="site-name">抖音</span>
                    <button class="delete-site-btn" data-site="douyin">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </button>
                <button class="site-card" data-site="bilibili">
                    <div class="site-icon bilibili-icon">B</div>
                    <span class="site-name">B站</span>
                    <button class="delete-site-btn" data-site="bilibili">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </button>
                <!-- 自定义网站将在这里动态插入 -->
            </div>
            
            <!-- 添加网站按钮 -->
            <div class="add-site-container">
                <button class="add-site-btn" id="addSiteBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    添加网站
                </button>
            </div>
            
            <!-- 用户指导提示 -->
            <div class="guide-tips" id="guideTips">
                <div class="tip-item">
                    <span class="tip-icon">💡</span>
                    <span class="tip-text">点击"添加网站"可以自定义搜索网站，如快手、微博等</span>
                </div>
                <div class="tip-item">
                    <span class="tip-icon">🔍</span>
                    <span class="tip-text">添加时只需复制网站搜索页面URL，系统会自动处理搜索参数</span>
                </div>
                <button class="hide-tips-btn" id="hideTipsBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- 搜索历史区域 -->
        <div class="history-panel" id="historyPanel">
            <div class="history-header">
                <div class="header-left">
                    <span class="history-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="1 4 1 10 7 10"></polyline>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                        </svg>
                    </span>
                    <h3>搜索历史</h3>
                    <span class="history-count" id="historyCount">0</span>
                </div>
                <div class="header-right">
                    <button id="clearAllBtn" class="clear-btn">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        清空
                    </button>
                    <button class="collapse-btn" id="collapseBtn">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="18 15 12 9 6 15"></polyline>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="history-content" id="historyContent">
                <div class="search-summary">
                    <span id="todayCount">今日: 0</span>
                    <span id="totalCount">总计: 0</span>
                </div>
                
                <div class="history-scroll-container">
                    <div id="historyList" class="history-list">
                        <!-- 历史记录将在这里动态加载 -->
                    </div>
                </div>
                
                <div class="load-more-container">
                    <button id="loadMoreBtn" class="load-more-btn" style="display: none;">
                        加载更多
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <button class="history-toggle" id="historyToggle">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
        </svg>
    </button>
    
    <!-- 添加网站弹窗 -->
    <div class="modal-overlay" id="addSiteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>添加自定义网站</h3>
                <button class="modal-close" id="modalClose">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="siteName">网站名称</label>
                    <input type="text" id="siteName" placeholder="例如：快手" maxlength="10">
                </div>
                <div class="form-group">
                    <label for="siteUrl">搜索地址</label>
                    <input type="url" id="siteUrl" placeholder="例如：https://www.kuaishou.com/search/video?searchKey=">
                    <div class="form-help">
                        💡 在网站搜索一个测试词汇，复制URL地址，将搜索词替换为 {keyword} 或直接粘贴到搜索词前的部分
                    </div>
                </div>
                <div class="form-group">
                    <label for="siteIcon">图标文字</label>
                    <input type="text" id="siteIcon" placeholder="例如：快" maxlength="2">
                    <div class="form-help">建议使用1-2个字符作为图标</div>
                </div>
                <div class="form-group">
                    <label for="siteColor">图标颜色</label>
                    <div class="color-picker">
                        <div class="color-option" data-color="#ff6b35" style="background: linear-gradient(135deg, #ff6b35, #f7931e);"></div>
                        <div class="color-option" data-color="#4ecdc4" style="background: linear-gradient(135deg, #4ecdc4, #44a08d);"></div>
                        <div class="color-option" data-color="#45b7d1" style="background: linear-gradient(135deg, #45b7d1, #96c93d);"></div>
                        <div class="color-option" data-color="#f093fb" style="background: linear-gradient(135deg, #f093fb, #f5576c);"></div>
                        <div class="color-option" data-color="#4facfe" style="background: linear-gradient(135deg, #4facfe, #00f2fe);"></div>
                        <div class="color-option" data-color="#43e97b" style="background: linear-gradient(135deg, #43e97b, #38f9d7);"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-restore" id="restoreDefaultBtn">恢复默认网站</button>
                <div class="footer-right">
                    <button class="btn-secondary" id="modalCancel">取消</button>
                    <button class="btn-primary" id="modalConfirm">添加网站</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="safari-newtab.js"></script>
</body>
</html>